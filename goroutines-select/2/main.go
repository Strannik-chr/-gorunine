package main

import "fmt"

func main() {
    ch1 := make(chan string, 1)
    ch2 := make(chan string, 1)

    ch1 <- "один"
    ch2 <- "два"

    select {
    case msg := <-ch1:
        fmt.Println("Выбран ch1:", msg)
    case msg := <-ch2:
        fmt.Println("Выбран ch2:", msg)
    }
}
// Go выбирает случайный готовый case, чтобы обеспечить fairness (честность):
// если бы select всегда брал первый case по порядку, то при постоянно готовом
// первом канале второй мог бы никогда не выбираться вообще.
// Это привело бы к starvation (голоданию) — второй канал формально готов,
// но фактически не получает процессорного времени.
// Случайный выбор даёт всем готовым каналам шанс быть обработанными.